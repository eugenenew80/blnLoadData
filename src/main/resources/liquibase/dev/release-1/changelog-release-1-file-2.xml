<?xml version="1.0" encoding="UTF-8"?>
<!--
<author>ruslan</author>
<comment>Загрузка данных </comment>
-->
<databaseChangeLog
		xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd">

	<changeSet id="load-rus-1" logicalFilePath="path-independent" author="ruslan" context="postgres">
		<comment>Load demo data to table: dict_countries</comment>
		<loadData
				encoding="UTF-8"
				relativeToChangelogFile="true"
				file="data/dict_countries.csv"
				quotchar="'"
				schemaName="apps"
				separator=";"
				tableName="dict_countries">

			<column name="id" type="NUMERIC"/>
			<column name="code" type="STRING"/>
			<column name="name"	type="STRING"/>
		</loadData>

		<rollback>
			<delete schemaName="apps" tableName="dict_countries" />
		</rollback>

		<createSequence
				incrementBy="1"
				schemaName="apps"
				sequenceName="dict_countries_s"
				startValue="5"/>
	</changeSet>

	<changeSet id="load-rus-2" logicalFilePath="path-independent" author="ruslan" context="postgres">
		<comment>Load demo data to table: dict_regions</comment>
		<loadData
				encoding="UTF-8"
				relativeToChangelogFile="true"
				file="data/dict_regions.csv"
				quotchar="'"
				schemaName="apps"
				separator=";"
				tableName="dict_regions">

			<column name="id" type="NUMERIC"/>
			<column name="code" type="STRING"/>
			<column name="name"	type="STRING"/>
			<column name="country_id" type="NUMERIC"/>
		</loadData>

		<rollback>
			<delete schemaName="apps" tableName="dict_regions" />
		</rollback>

		<createSequence
				incrementBy="1"
				schemaName="apps"
				sequenceName="dict_regions_s"
				startValue="34"/>
	</changeSet>


	<changeSet id="load-rus-3" logicalFilePath="path-independent" author="ruslan" context="postgres">
		<comment>Load demo data to table: dict_energy_nodes</comment>
		<loadData
				encoding="UTF-8"
				relativeToChangelogFile="true"
				file="data/dict_energy_nodes.csv"
				quotchar="'"
				schemaName="apps"
				separator=";"
				tableName="dict_energy_nodes">

			<column name="id" type="NUMERIC"/>
			<column name="short_name" type="STRING"/>
			<column name="name"	type="STRING"/>
			<column name="region_id" type="NUMERIC"/>
		</loadData>

		<rollback>
			<delete schemaName="apps" tableName="dict_energy_nodes" />
		</rollback>

		<createSequence
				incrementBy="1"
				schemaName="apps"
				sequenceName="dict_energy_nodes_s"
				startValue="12"/>
	</changeSet>

	<changeSet id="load-rus-4" logicalFilePath="path-independent" author="ruslan" context="postgres">
		<comment>Load demo data to table: dict_energy_source_types</comment>
		<loadData
				encoding="UTF-8"
				relativeToChangelogFile="true"
				file="data/dict_energy_source_types.csv"
				quotchar="'"
				schemaName="apps"
				separator=";"
				tableName="dict_energy_source_types">

			<column name="id" type="NUMERIC"/>
			<column name="short_name" type="STRING"/>
			<column name="name"	type="STRING"/>
			<column name="is_res" type="NUMERIC"/>
		</loadData>

		<rollback>
			<delete schemaName="apps" tableName="dict_energy_source_types" />
		</rollback>

		<createSequence
				incrementBy="1"
				schemaName="apps"
				sequenceName="dict_energy_source_types_s"
				startValue="10"/>
	</changeSet>

	<changeSet id="load-rus-5" logicalFilePath="path-independent" author="ruslan" context="postgres">
		<comment>Load demo data to table: dict_energy_zones</comment>
		<loadData
				encoding="UTF-8"
				relativeToChangelogFile="true"
				file="data/dict_energy_zones.csv"
				quotchar="'"
				schemaName="apps"
				separator=";"
				tableName="dict_energy_zones">

			<column name="id" type="NUMERIC"/>
			<column name="code" type="STRING"/>
			<column name="name"	type="STRING"/>
		</loadData>

		<rollback>
			<delete schemaName="apps" tableName="dict_energy_zones" />
		</rollback>

		<createSequence
				incrementBy="1"
				schemaName="apps"
				sequenceName="dict_energy_zones_s"
				startValue="4"/>
	</changeSet>

	<changeSet id="load-rus-6" logicalFilePath="path-independent" author="ruslan" context="postgres">
		<comment>Load demo data to table: dict_metering_point_types</comment>
		<loadData
				encoding="UTF-8"
				relativeToChangelogFile="true"
				file="data/dict_metering_point_types.csv"
				quotchar="'"
				schemaName="apps"
				separator=";"
				tableName="dict_metering_point_types">

			<column name="id" type="NUMERIC"/>
			<column name="code" type="STRING"/>
			<column name="name"	type="STRING"/>
		</loadData>

		<rollback>
			<delete schemaName="apps" tableName="dict_metering_point_types" />
		</rollback>

		<createSequence
				incrementBy="1"
				schemaName="apps"
				sequenceName="dict_metering_point_types_s"
				startValue="3"/>
	</changeSet>

	<changeSet id="load-rus-7" logicalFilePath="path-independent" author="ruslan" context="postgres">
		<comment>Load demo data to table: dict_metering_types</comment>
		<loadData
				encoding="UTF-8"
				relativeToChangelogFile="true"
				file="data/dict_metering_types.csv"
				quotchar="'"
				schemaName="apps"
				separator=";"
				tableName="dict_metering_types">

			<column name="id" type="NUMERIC"/>
			<column name="short_name" type="STRING"/>
			<column name="name"	type="STRING"/>
			<column name="is_used_in_energy_sources" type="NUMERIC"/>
			<column name="is_used_in_substations" type="NUMERIC"/>
		</loadData>

		<rollback>
			<delete schemaName="apps" tableName="dict_metering_types" />
		</rollback>

		<createSequence
				incrementBy="1"
				schemaName="apps"
				sequenceName="dict_metering_types_s"
				startValue="8"/>
	</changeSet>

	<changeSet id="load-rus-8" logicalFilePath="path-independent" author="ruslan" context="postgres">
		<comment>Load demo data to table: dict_units</comment>
		<loadData
				encoding="UTF-8"
				relativeToChangelogFile="true"
				file="data/dict_units.csv"
				quotchar="'"
				schemaName="apps"
				separator=";"
				tableName="dict_units">

			<column name="id" type="NUMERIC"/>
			<column name="code" type="STRING"/>
			<column name="short_name"	type="STRING"/>
			<column name="name" type="STRING"/>
			<column name="base_unit_id" type="NUMERIC"/>
			<column name="factor" type="NUMERIC"/>
		</loadData>

		<rollback>
			<delete schemaName="apps" tableName="dict_units" />
		</rollback>

		<createSequence
				incrementBy="1"
				schemaName="apps"
				sequenceName="dict_units_s"
				startValue="15"/>
	</changeSet>

	<changeSet id="load-rus-9" logicalFilePath="path-independent" author="ruslan" context="postgres">
		<comment>Load demo data to table: dict_energy_districts</comment>
		<loadData
				encoding="UTF-8"
				relativeToChangelogFile="true"
				file="data/dict_energy_districts.csv"
				quotchar="'"
				schemaName="apps"
				separator=";"
				tableName="dict_energy_districts">

			<column name="id" type="NUMERIC"/>
			<column name="short_name" type="STRING"/>
			<column name="name"	type="STRING"/>
			<column name="energy_node_id" type="STRING"/>
		</loadData>

		<rollback>
			<delete schemaName="apps" tableName="dict_energy_districts" />
		</rollback>

		<createSequence
				incrementBy="1"
				schemaName="apps"
				sequenceName="dict_energy_districts_s"
				startValue="8"/>
	</changeSet>

</databaseChangeLog>
